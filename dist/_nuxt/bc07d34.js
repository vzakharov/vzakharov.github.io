(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{380:function(t,e,n){"use strict";n.r(e);n(5),n(4),n(2),n(1),n(6),n(3),n(7);var r=n(24),o=n(0),c=(n(67),n(39),n(165),n(85)),m=n.n(c);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={data:function(){return{paymentLink:null,amountChangedTimeout:null}},mounted:function(){this.amount||(this.amount=5)},computed:{amount:{get:function(){return this.$route.query.amount},set:function(t){this.$router.push(h(h({},this.$route),{},{query:h(h({},this.$route.query),{},{amount:t})}))}}},watch:{amount:{immediate:!0,handler:function(){var t=this;this.paymentLink=null,this.amountChangedTimeout&&clearTimeout(this.amountChangedTimeout),this.amountChangedTimeout=setTimeout((function(){t.getPaymentLink()}),500)}}},methods:{getPaymentLink:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.paymentLink=null,n.prev=1,n.next=4,m.a.get("https://ideality.app/api/topup-link?currency=1&amount=".concat(e.amount));case 4:e.paymentLink=n.sent.data.link,n.next=11;break;case 7:n.prev=7,n.t0=n.catch(1),console.error(n.t0),t?e.paymentLink="Error":setTimeout((function(){return e.getPaymentLink(!0)}),1e3);case 11:case"end":return n.stop()}}),n,null,[[1,7]])})))()}}},y=n(66),component=Object(y.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rounded shadow p-3",staticStyle:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)","min-width":"512px"}},[n("h1",{staticClass:"text-center"},[t._v("Buy me a 🍺")]),t._v("\n  If you want to thank me for my work, this is the perfect place to do it.\n  "),t._v(" "),n("b-form",{staticClass:"d-flex align-items-center justify-content-center mt-3 gap-3"},[n("label",{staticClass:"fw-bold",attrs:{for:"amount"}},[t._v("\n      How much?\n    ")]),t._v(" "),n("b-input",{staticStyle:{"max-width":"100px"},attrs:{id:"amount",type:"number",step:"1",min:"1",placeholder:"Amount"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),t._v("\n    USD\n  ")],1),t._v(" "),n("div",{staticClass:"mt-3 d-flex justify-content-center align-items-center",staticStyle:{height:"400px"}},["Error"==t.paymentLink?n("b-alert",{attrs:{variant:"danger",show:""}},[n("strong",[t._v("Oops!")]),t._v(" "),n("p",[t._v("\n        Something went wrong. Please try again later.\n      ")]),t._v(" "),n("b-button",{attrs:{variant:"outline-primary"},on:{click:function(e){return t.getPaymentLink()}}},[t._v("\n        Try again\n      ")])],1):t.paymentLink?n("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.paymentLink,frameborder:"0"}}):n("div",{staticClass:"text-center"},[n("b-spinner",{attrs:{type:"grow",variant:"primary"}}),t._v(" "),n("span",{staticClass:"ml-2"},[t._v("Please wait, connecting to payment provider...")])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);