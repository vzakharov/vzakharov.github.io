(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{335:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isObject=t.pick=t.assertNever=void 0,t.assertNever=function(e){throw new Error(`Unexpected value should never occur: ${e}`)},t.pick=function(base,e){const t=e.map((e=>[e,null==base?void 0:base[e]]));return Object.fromEntries(t)},t.isObject=function(e){return"object"==typeof e&&null!==e}},341:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logLevelSeverity=t.makeConsoleLogger=t.LogLevel=void 0;const o=r(335);var n;!function(e){e.DEBUG="debug",e.INFO="info",e.WARN="warn",e.ERROR="error"}(n=t.LogLevel||(t.LogLevel={})),t.makeConsoleLogger=function(e){return(t,r,o)=>{console[t](`${e} ${t}:`,r,o)}},t.logLevelSeverity=function(e){switch(e){case n.DEBUG:return 20;case n.INFO:return 40;case n.WARN:return 60;case n.ERROR:return 80;default:return(0,o.assertNever)(e)}}},342:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildRequestError=t.APIResponseError=t.UnknownHTTPResponseError=t.isHTTPResponseError=t.RequestTimeoutError=t.isNotionClientError=t.ClientErrorCode=t.APIErrorCode=void 0;const o=r(335);var n,d;!function(e){e.Unauthorized="unauthorized",e.RestrictedResource="restricted_resource",e.ObjectNotFound="object_not_found",e.RateLimited="rate_limited",e.InvalidJSON="invalid_json",e.InvalidRequestURL="invalid_request_url",e.InvalidRequest="invalid_request",e.ValidationError="validation_error",e.ConflictError="conflict_error",e.InternalServerError="internal_server_error",e.ServiceUnavailable="service_unavailable"}(n=t.APIErrorCode||(t.APIErrorCode={})),function(e){e.RequestTimeout="notionhq_client_request_timeout",e.ResponseError="notionhq_client_response_error"}(d=t.ClientErrorCode||(t.ClientErrorCode={}));class l extends Error{}function c(e){return(0,o.isObject)(e)&&e instanceof l}function h(e,t){return c(e)&&e.code in t}t.isNotionClientError=c;class m extends l{constructor(e="Request to Notion API has timed out"){super(e),this.code=d.RequestTimeout,this.name="RequestTimeoutError"}static isRequestTimeoutError(e){return h(e,{[d.RequestTimeout]:!0})}static rejectAfterTimeout(e,t){return new Promise(((r,o)=>{const n=setTimeout((()=>{o(new m)}),t);e.then(r).catch(o).then((()=>clearTimeout(n)))}))}}t.RequestTimeoutError=m;class y extends l{constructor(e){super(e.message),this.name="HTTPResponseError";const{code:code,status:t,headers:r,rawBodyText:o}=e;this.code=code,this.status=t,this.headers=r,this.body=o}}const P={[d.ResponseError]:!0,[n.Unauthorized]:!0,[n.RestrictedResource]:!0,[n.ObjectNotFound]:!0,[n.RateLimited]:!0,[n.InvalidJSON]:!0,[n.InvalidRequestURL]:!0,[n.InvalidRequest]:!0,[n.ValidationError]:!0,[n.ConflictError]:!0,[n.InternalServerError]:!0,[n.ServiceUnavailable]:!0};t.isHTTPResponseError=function(e){return!!h(e,P)};class v extends y{constructor(e){var t;super({...e,code:d.ResponseError,message:null!==(t=e.message)&&void 0!==t?t:`Request to Notion API failed with status: ${e.status}`}),this.name="UnknownHTTPResponseError"}static isUnknownHTTPResponseError(e){return h(e,{[d.ResponseError]:!0})}}t.UnknownHTTPResponseError=v;const f={[n.Unauthorized]:!0,[n.RestrictedResource]:!0,[n.ObjectNotFound]:!0,[n.RateLimited]:!0,[n.InvalidJSON]:!0,[n.InvalidRequestURL]:!0,[n.InvalidRequest]:!0,[n.ValidationError]:!0,[n.ConflictError]:!0,[n.InternalServerError]:!0,[n.ServiceUnavailable]:!0};class k extends y{constructor(){super(...arguments),this.name="APIResponseError"}static isAPIResponseError(e){return h(e,f)}}t.APIResponseError=k,t.buildRequestError=function(e,t){const r=function(body){if("string"!=typeof body)return;let e;try{e=JSON.parse(body)}catch(e){return}if(!(0,o.isObject)(e)||"string"!=typeof e.message||(code=e.code,"string"!=typeof code||!(code in f)))return;var code;return{...e,code:e.code,message:e.message}}(t);return void 0!==r?new k({code:r.code,message:r.message,headers:e.headers,status:e.status,rawBodyText:t}):new v({message:void 0,headers:e.headers,status:e.status,rawBodyText:t})}},355:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNotionClientError=t.RequestTimeoutError=t.UnknownHTTPResponseError=t.APIResponseError=t.ClientErrorCode=t.APIErrorCode=t.LogLevel=t.Client=void 0;var o=r(356);Object.defineProperty(t,"Client",{enumerable:!0,get:function(){return o.default}});var n=r(341);Object.defineProperty(t,"LogLevel",{enumerable:!0,get:function(){return n.LogLevel}});var d=r(342);Object.defineProperty(t,"APIErrorCode",{enumerable:!0,get:function(){return d.APIErrorCode}}),Object.defineProperty(t,"ClientErrorCode",{enumerable:!0,get:function(){return d.ClientErrorCode}}),Object.defineProperty(t,"APIResponseError",{enumerable:!0,get:function(){return d.APIResponseError}}),Object.defineProperty(t,"UnknownHTTPResponseError",{enumerable:!0,get:function(){return d.UnknownHTTPResponseError}}),Object.defineProperty(t,"RequestTimeoutError",{enumerable:!0,get:function(){return d.RequestTimeoutError}}),Object.defineProperty(t,"isNotionClientError",{enumerable:!0,get:function(){return d.isNotionClientError}})},356:function(e,t,r){"use strict";var o,n,d,l,c,h,m,y,P,v=this&&this.__classPrivateFieldSet||function(e,t,r,o,n){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?n.call(e,r):n?n.value=r:t.set(e,r),r},f=this&&this.__classPrivateFieldGet||function(e,t,r,o){if("a"===r&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?o:"a"===r?o.call(e):o?o.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0});const k=r(341),_=r(342),E=r(335),R=r(357),w=r(358),C=r(359);class T{constructor(e){var t,r,f,_,L,O;o.set(this,void 0),n.set(this,void 0),d.set(this,void 0),l.set(this,void 0),c.set(this,void 0),h.set(this,void 0),m.set(this,void 0),y.set(this,void 0),P.set(this,void 0),this.blocks={retrieve:e=>this.request({path:R.getBlock.path(e),method:R.getBlock.method,query:(0,E.pick)(e,R.getBlock.queryParams),body:(0,E.pick)(e,R.getBlock.bodyParams),auth:null==e?void 0:e.auth}),update:e=>this.request({path:R.updateBlock.path(e),method:R.updateBlock.method,query:(0,E.pick)(e,R.updateBlock.queryParams),body:(0,E.pick)(e,R.updateBlock.bodyParams),auth:null==e?void 0:e.auth}),delete:e=>this.request({path:R.deleteBlock.path(e),method:R.deleteBlock.method,query:(0,E.pick)(e,R.deleteBlock.queryParams),body:(0,E.pick)(e,R.deleteBlock.bodyParams),auth:null==e?void 0:e.auth}),children:{append:e=>this.request({path:R.appendBlockChildren.path(e),method:R.appendBlockChildren.method,query:(0,E.pick)(e,R.appendBlockChildren.queryParams),body:(0,E.pick)(e,R.appendBlockChildren.bodyParams),auth:null==e?void 0:e.auth}),list:e=>this.request({path:R.listBlockChildren.path(e),method:R.listBlockChildren.method,query:(0,E.pick)(e,R.listBlockChildren.queryParams),body:(0,E.pick)(e,R.listBlockChildren.bodyParams),auth:null==e?void 0:e.auth})}},this.databases={list:e=>this.request({path:R.listDatabases.path(),method:R.listDatabases.method,query:(0,E.pick)(e,R.listDatabases.queryParams),body:(0,E.pick)(e,R.listDatabases.bodyParams),auth:null==e?void 0:e.auth}),retrieve:e=>this.request({path:R.getDatabase.path(e),method:R.getDatabase.method,query:(0,E.pick)(e,R.getDatabase.queryParams),body:(0,E.pick)(e,R.getDatabase.bodyParams),auth:null==e?void 0:e.auth}),query:e=>this.request({path:R.queryDatabase.path(e),method:R.queryDatabase.method,query:(0,E.pick)(e,R.queryDatabase.queryParams),body:(0,E.pick)(e,R.queryDatabase.bodyParams),auth:null==e?void 0:e.auth}),create:e=>this.request({path:R.createDatabase.path(),method:R.createDatabase.method,query:(0,E.pick)(e,R.createDatabase.queryParams),body:(0,E.pick)(e,R.createDatabase.bodyParams),auth:null==e?void 0:e.auth}),update:e=>this.request({path:R.updateDatabase.path(e),method:R.updateDatabase.method,query:(0,E.pick)(e,R.updateDatabase.queryParams),body:(0,E.pick)(e,R.updateDatabase.bodyParams),auth:null==e?void 0:e.auth})},this.pages={create:e=>this.request({path:R.createPage.path(),method:R.createPage.method,query:(0,E.pick)(e,R.createPage.queryParams),body:(0,E.pick)(e,R.createPage.bodyParams),auth:null==e?void 0:e.auth}),retrieve:e=>this.request({path:R.getPage.path(e),method:R.getPage.method,query:(0,E.pick)(e,R.getPage.queryParams),body:(0,E.pick)(e,R.getPage.bodyParams),auth:null==e?void 0:e.auth}),update:e=>this.request({path:R.updatePage.path(e),method:R.updatePage.method,query:(0,E.pick)(e,R.updatePage.queryParams),body:(0,E.pick)(e,R.updatePage.bodyParams),auth:null==e?void 0:e.auth}),properties:{retrieve:e=>this.request({path:R.getPageProperty.path(e),method:R.getPageProperty.method,query:(0,E.pick)(e,R.getPageProperty.queryParams),body:(0,E.pick)(e,R.getPageProperty.bodyParams),auth:null==e?void 0:e.auth})}},this.users={retrieve:e=>this.request({path:R.getUser.path(e),method:R.getUser.method,query:(0,E.pick)(e,R.getUser.queryParams),body:(0,E.pick)(e,R.getUser.bodyParams),auth:null==e?void 0:e.auth}),list:e=>this.request({path:R.listUsers.path(),method:R.listUsers.method,query:(0,E.pick)(e,R.listUsers.queryParams),body:(0,E.pick)(e,R.listUsers.bodyParams),auth:null==e?void 0:e.auth}),me:e=>this.request({path:R.getSelf.path(),method:R.getSelf.method,query:(0,E.pick)(e,R.getSelf.queryParams),body:(0,E.pick)(e,R.getSelf.bodyParams),auth:null==e?void 0:e.auth})},v(this,o,null==e?void 0:e.auth,"f"),v(this,n,null!==(t=null==e?void 0:e.logLevel)&&void 0!==t?t:k.LogLevel.WARN,"f"),v(this,d,null!==(r=null==e?void 0:e.logger)&&void 0!==r?r:(0,k.makeConsoleLogger)(C.name),"f"),v(this,l,(null!==(f=null==e?void 0:e.baseUrl)&&void 0!==f?f:"https://api.notion.com")+"/v1/","f"),v(this,c,null!==(_=null==e?void 0:e.timeoutMs)&&void 0!==_?_:6e4,"f"),v(this,h,null!==(L=null==e?void 0:e.notionVersion)&&void 0!==L?L:T.defaultNotionVersion,"f"),v(this,m,null!==(O=null==e?void 0:e.fetch)&&void 0!==O?O:w.default,"f"),v(this,y,null==e?void 0:e.agent,"f"),v(this,P,`notionhq-client/${C.version}`,"f")}async request({path:path,method:e,query:t,body:body,auth:r}){this.log(k.LogLevel.INFO,"request start",{method:e,path:path});const o=body&&0!==Object.entries(body).length?JSON.stringify(body):void 0,n=new URL(`${f(this,l,"f")}${path}`);if(t)for(const[e,r]of Object.entries(t))void 0!==r&&n.searchParams.append(e,String(r));const d={...this.authAsHeaders(r),"Notion-Version":f(this,h,"f"),"user-agent":f(this,P,"f")};void 0!==o&&(d["content-type"]="application/json");try{const t=await _.RequestTimeoutError.rejectAfterTimeout(f(this,m,"f").call(this,n.toString(),{method:e,headers:d,body:o,agent:f(this,y,"f")}),f(this,c,"f")),r=await t.text();if(!t.ok)throw(0,_.buildRequestError)(t,r);const l=JSON.parse(r);return this.log(k.LogLevel.INFO,"request success",{method:e,path:path}),l}catch(e){if(!(0,_.isNotionClientError)(e))throw e;throw this.log(k.LogLevel.WARN,"request fail",{code:e.code,message:e.message}),(0,_.isHTTPResponseError)(e)&&this.log(k.LogLevel.DEBUG,"failed response body",{body:e.body}),e}}search(e){return this.request({path:R.search.path(),method:R.search.method,query:(0,E.pick)(e,R.search.queryParams),body:(0,E.pick)(e,R.search.bodyParams),auth:null==e?void 0:e.auth})}log(e,t,r){(0,k.logLevelSeverity)(e)>=(0,k.logLevelSeverity)(f(this,n,"f"))&&f(this,d,"f").call(this,e,t,r)}authAsHeaders(e){const t={},r=null!=e?e:f(this,o,"f");return void 0!==r&&(t.authorization=`Bearer ${r}`),t}}t.default=T,o=new WeakMap,n=new WeakMap,d=new WeakMap,l=new WeakMap,c=new WeakMap,h=new WeakMap,m=new WeakMap,y=new WeakMap,P=new WeakMap,T.defaultNotionVersion="2022-02-22"},357:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.search=t.createDatabase=t.listDatabases=t.queryDatabase=t.updateDatabase=t.getDatabase=t.appendBlockChildren=t.listBlockChildren=t.deleteBlock=t.updateBlock=t.getBlock=t.getPageProperty=t.updatePage=t.getPage=t.createPage=t.listUsers=t.getUser=t.getSelf=void 0,t.getSelf={method:"get",pathParams:[],queryParams:[],bodyParams:[],path:()=>"users/me"},t.getUser={method:"get",pathParams:["user_id"],queryParams:[],bodyParams:[],path:p=>`users/${p.user_id}`},t.listUsers={method:"get",pathParams:[],queryParams:["start_cursor","page_size"],bodyParams:[],path:()=>"users"},t.createPage={method:"post",pathParams:[],queryParams:[],bodyParams:["parent","properties","icon","cover","content","children"],path:()=>"pages"},t.getPage={method:"get",pathParams:["page_id"],queryParams:[],bodyParams:[],path:p=>`pages/${p.page_id}`},t.updatePage={method:"patch",pathParams:["page_id"],queryParams:[],bodyParams:["properties","icon","cover","archived"],path:p=>`pages/${p.page_id}`},t.getPageProperty={method:"get",pathParams:["page_id","property_id"],queryParams:["start_cursor","page_size"],bodyParams:[],path:p=>`pages/${p.page_id}/properties/${p.property_id}`},t.getBlock={method:"get",pathParams:["block_id"],queryParams:[],bodyParams:[],path:p=>`blocks/${p.block_id}`},t.updateBlock={method:"patch",pathParams:["block_id"],queryParams:[],bodyParams:["embed","type","archived","bookmark","image","video","pdf","file","audio","code","equation","divider","breadcrumb","table_of_contents","link_to_page","table_row","heading_1","heading_2","heading_3","paragraph","bulleted_list_item","numbered_list_item","quote","to_do","toggle","template","callout","synced_block","table"],path:p=>`blocks/${p.block_id}`},t.deleteBlock={method:"delete",pathParams:["block_id"],queryParams:[],bodyParams:[],path:p=>`blocks/${p.block_id}`},t.listBlockChildren={method:"get",pathParams:["block_id"],queryParams:["start_cursor","page_size"],bodyParams:[],path:p=>`blocks/${p.block_id}/children`},t.appendBlockChildren={method:"patch",pathParams:["block_id"],queryParams:[],bodyParams:["children"],path:p=>`blocks/${p.block_id}/children`},t.getDatabase={method:"get",pathParams:["database_id"],queryParams:[],bodyParams:[],path:p=>`databases/${p.database_id}`},t.updateDatabase={method:"patch",pathParams:["database_id"],queryParams:[],bodyParams:["title","icon","cover","properties","archived"],path:p=>`databases/${p.database_id}`},t.queryDatabase={method:"post",pathParams:["database_id"],queryParams:[],bodyParams:["sorts","filter","start_cursor","page_size","archived"],path:p=>`databases/${p.database_id}/query`},t.listDatabases={method:"get",pathParams:[],queryParams:["start_cursor","page_size"],bodyParams:[],path:()=>"databases"},t.createDatabase={method:"post",pathParams:[],queryParams:[],bodyParams:["parent","properties","icon","cover","title"],path:()=>"databases"},t.search={method:"post",pathParams:[],queryParams:[],bodyParams:["sort","query","start_cursor","page_size","filter"],path:()=>"search"}},358:function(e,t,r){"use strict";var o=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==o)return o;throw new Error("unable to locate global object")}();e.exports=t=o.fetch,o.fetch&&(t.default=o.fetch.bind(o)),t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response},359:function(e){e.exports=JSON.parse('{"name":"@notionhq/client","version":"1.0.4","description":"A simple and easy to use client for the Notion API","engines":{"node":">=12"},"homepage":"https://developers.notion.com/docs/getting-started","bugs":{"url":"https://github.com/makenotion/notion-sdk-js/issues"},"repository":{"type":"git","url":"https://github.com/makenotion/notion-sdk-js/"},"keywords":["notion","notionapi","rest","notion-api"],"main":"./build/src","types":"./build/src/index.d.ts","scripts":{"prepare":"npm run build","prepublishOnly":"npm run checkLoggedIn && npm run lint && npm run test","build":"tsc","prettier":"prettier --write .","lint":"prettier --check . && eslint . --ext .ts && cspell \'**/*\' ","test":"ava","check-links":"git ls-files | grep md$ | xargs -n 1 markdown-link-check","prebuild":"npm run clean","clean":"rm -rf ./build","checkLoggedIn":"./scripts/verifyLoggedIn.sh"},"author":"","license":"MIT","files":["build/package.json","build/src/**"],"dependencies":{"@types/node-fetch":"^2.5.10","node-fetch":"^2.6.1"},"devDependencies":{"@ava/typescript":"^2.0.0","@typescript-eslint/eslint-plugin":"^4.22.0","@typescript-eslint/parser":"^4.22.0","ava":"^3.15.0","cspell":"^5.4.1","eslint":"^7.24.0","markdown-link-check":"^3.8.7","prettier":"^2.3.0","typescript":"^4.2.4"}}')}}]);