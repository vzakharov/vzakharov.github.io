(window.webpackJsonp=window.webpackJsonp||[]).push([[10,5],{325:function(e,t,n){var content=n(332);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(67).default)("8331f40e",content,!0,{sourceMap:!1})},330:function(e,t,n){"use strict";var o=n(13),r=n(124);o({target:"String",proto:!0,forced:n(125)("blink")},{blink:function(){return r(this,"blink","","")}})},331:function(e,t,n){"use strict";n(325)},332:function(e,t,n){var o=n(66)(!1);o.push([e.i,"[contenteditable=true][data-v-12da5906]:empty:after{content:attr(data-ph);color:#bbb}",""]),e.exports=o},336:function(e,t,n){var content=n(344);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(67).default)("fafdc48c",content,!0,{sourceMap:!1})},340:function(e,t,n){"use strict";n.r(t);n(38),n(330);var o={props:{value:{},tag:{default:"span"},placeholder:{default:"…"},editable:{default:!0},lazy:{default:!1}},data:function(){return{initialContent:this.value,blink:null,blinkInterval:null,focused:null}},mounted:function(){var e=this;this.$watch("value",{immediate:!0,handler:function(e){var t=this;e?clearInterval(this.blinkInterval):this.blinkInterval=setInterval((function(){t.blink=!t.blink}),500)}}),this.$once("hook:beforeDestroy",(function(){return clearInterval(e.blinkInterval)}))},watch:{value:function(e){e!=this.$refs.me.innerText&&(this.initialContent=e)}},methods:{escape:n(326).escape}},r=(n(331),n(65)),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.tag,{ref:"me",tag:"component",class:{"text-muted":!e.initialContent,"border-start border-dark":e.focused&&!e.value&&e.blink,editable:!0},style:{display:"inline",outline:"none","white-space":"pre-wrap"},attrs:{contenteditable:e.editable,"data-ph":!e.focused&&e.placeholder},domProps:{textContent:e._s(e.initialContent)},on:{input:function(t){e.$emit("input",t.target.innerText.replace(" "," "))},focus:function(t){e.focused=!0},blur:function(t){e.focused=!1,e.initialContent=e.value}}})}),[],!1,null,"12da5906",null);t.default=component.exports},343:function(e,t,n){"use strict";n(336)},344:function(e,t,n){var o=n(66)(!1);o.push([e.i,"@media screen{.editable{background-color:#e6f7ff}}@media print{.noprint{display:none}}",""]),e.exports=o},367:function(e,t,n){"use strict";n.r(t);n(5),n(4),n(2),n(1),n(6),n(3),n(7);var o=n(34),r=n(0),c=(n(11),n(163),n(240),n(19),n(326));function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var v={data:function(){var e=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({number:null,date:(new Date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),issuer:null,payer:null,currency:"USD",items:[{title:"Sample item",quantity:1,price:100}]},Object(c.mapValues)(this.$route.query,(function(e){return null!=e&&e.match(/^[\{\[]/)?JSON.parse(e):e})));return{invoice:e}},mounted:function(){var e=this;if(!this.invoice.number){var t=Number(localStorage.getItem("lastInvoiceNumber"));this.invoice.number=t?t+1:1}localStorage.setItem("lastInvoiceNumber",this.invoice.number);var n=JSON.parse(localStorage.getItem("invoice"));Object(c.forEach)(this.invoice,(function(t,o){t||(e.invoice[o]=n[o])})),this.$watch("invoice",(function(t){e.$router.replace({query:Object(c.mapValues)(t,(function(e){return"object"===Object(o.a)(e)?JSON.stringify(e):e}))}),localStorage.setItem("invoice",JSON.stringify(t))}),{deep:!0})},methods:{total:function(e){return Object(c.sumBy)(this.invoice.items,(function(t){return parseFloat(t[e])||0}))},without:c.without,sumBy:c.sumBy}},f=v,d=(n(343),n(65)),component=Object(d.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{staticClass:"mt-5"},[n("b-row",[n("b-col",{attrs:{cols:"12",lg:"8","offset-lg":"2"}},[n("h1",[e._v("Invoice #"),n("Editable",{model:{value:e.invoice.number,callback:function(t){e.$set(e.invoice,"number",t)},expression:"invoice.number"}})],1),e._v(" "),e._v("\n      dated "),n("Editable",{model:{value:e.invoice.date,callback:function(t){e.$set(e.invoice,"date",t)},expression:"invoice.date"}}),e._v(" "),n("b-row",{staticClass:"my-5"},e._l(["Issuer","Payer"],(function(t){return n("b-col",{key:t,attrs:{cols:"6"}},[n("h4",{domProps:{textContent:e._s(t)}}),e._v(" "),n("Editable",{attrs:{tag:"div"},model:{value:e.invoice[t.toLowerCase()],callback:function(n){e.$set(e.invoice,t.toLowerCase(),n)},expression:"invoice[party.toLowerCase()]"}})],1)})),1),e._v(" "),n("h3",{staticClass:"mb-3"},[e._v("Invoice items")]),e._v(" "),n("b-table",{attrs:{items:e.invoice.items,fields:["title","quantity","price"],striped:"",hover:"",small:"",bordered:"",responsive:"","foot-clone":""},scopedSlots:e._u([{key:"head(price)",fn:function(){return[e._v("\n          Price ("),n("Editable",{model:{value:e.invoice.currency,callback:function(t){e.$set(e.invoice,"currency",t)},expression:"invoice.currency"}}),e._v(")\n        ")]},proxy:!0},{key:"head(quantity)",fn:function(){return[e._v("\n          Quantity ("),n("Editable",{model:{value:e.invoice.unit,callback:function(t){e.$set(e.invoice,"unit",t)},expression:"invoice.unit"}}),e._v(")\n        ")]},proxy:!0},{key:"cell(title)",fn:function(t){var o=t.item;return[n("Editable",{model:{value:o.title,callback:function(t){e.$set(o,"title",t)},expression:"item.title"}})]}},{key:"cell(quantity)",fn:function(t){var o=t.item;return[n("Editable",{model:{value:o.quantity,callback:function(t){e.$set(o,"quantity",t)},expression:"item.quantity"}})]}},{key:"cell(price)",fn:function(t){var o=t.item;return[n("Editable",{model:{value:o.price,callback:function(t){e.$set(o,"price",t)},expression:"item.price"}}),e._v(" "),o!==e.invoice.items[0]?n("span",{staticClass:"close noprint",staticStyle:{cursor:"pointer"},on:{click:function(t){e.invoice.items=e.without(e.invoice.items,o)}}},[e._v("×")]):e._e()]}},{key:"foot(title)",fn:function(){return[e._v("\n          Total\n        ")]},proxy:!0},{key:"foot(quantity)",fn:function(){return[e._v("\n          "+e._s(e.total("quantity"))+"\n        ")]},proxy:!0},{key:"foot(price)",fn:function(){return[e._v("\n          "+e._s(e.total("price"))+"\n        ")]},proxy:!0}])}),e._v(" "),n("b-button",{staticClass:"mb-3 noprint",attrs:{variant:"outline-secondary",size:"sm"},on:{click:function(t){e.invoice.items=e.invoice.items.concat([{title:"",quantity:"",price:""}])}}},[e._v("\n        Add item\n      ")]),e._v(" "),n("div",{staticClass:"text-end mt-5"},[n("h6",[e._v("Total: "+e._s(e.total("price"))+" "+e._s(e.invoice.currency))]),e._v(" "),n("h6",[e._v("Discount: −"),n("Editable",{model:{value:e.invoice.discount,callback:function(t){e.$set(e.invoice,"discount",t)},expression:"invoice.discount"}}),e._v(" "+e._s(e.invoice.currency))],1),e._v(" "),n("h3",[e._v("Grand total: "+e._s(e.total("price")-e.invoice.discount)+" "+e._s(e.invoice.currency))])])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Editable:n(340).default})}}]);