(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{327:function(t,e,r){"use strict";function o(source,t){if(null==source)return{};var e,i,r=function(source,t){if(null==source)return{};var e,i,r={},o=Object.keys(source);for(i=0;i<o.length;i++)e=o[i],t.indexOf(e)>=0||(r[e]=source[e]);return r}(source,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(source);for(i=0;i<o.length;i++)e=o[i],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(source,e)&&(r[e]=source[e])}return r}r.d(e,"a",(function(){return o}))},328:function(t,e,r){"use strict";r(5),r(4),r(2),r(1),r(6),r(3),r(7);var o=r(0),n=r(327),c=["currentTotalWords"];function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a={methods:{getPrice:function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.currentTotalWords,l=void 0===o?0:o,h=Object(n.a)(r,c);if((e=console).log.apply(e,arguments),l)return this.getPrice(t+l)-this.getPrice(l);var f=d(d({},this.$store.state),h),m=f.wphMin,v=f.wphMax,w=f.midpoint,y=f.hourlyRate,C=this.getWph(t,{wphMin:m,wphMax:v,midpoint:w});console.log({wph:C});var O=y/C;console.log({epw:O});var j=O*t,_=20;return j=Math.ceil(j/_)*_-1},getWph:function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.$store.state,o=r.wphMin,n=r.wphMax,c=r.midpoint;return(e=console).log.apply(e,arguments),(n*t+o*c)/(t+c)}}}},349:function(t,e,r){"use strict";r.r(e);var o=r(0),n=(r(39),r(1),r(16),r(341)),c=r(328),l=r(326),d={mixins:[c.a],props:["projects"],data:function(){return{chart:null,fitting:null,hourlyRate:this.$store.state.hourlyRate,wordCount:500}},computed:{actualWph:function(){return this.getXY(this.getActualWph)},computedWph:function(){return this.getXY(this.getComputedWph)},actualHours:function(){return Object(l.sumBy)(this.projects,this.getActualHours)},computedHours:function(){return Object(l.sumBy)(this.projects,this.getComputedHours)},stdDevHours:function(){var t=this;return Math.sqrt(Object(l.sumBy)(this.projects,(function(e){return Math.pow(t.getActualHours(e)-t.getComputedHours(e),2)})))},config:function(){return{type:"scatter",data:{datasets:[{label:"Words per hour",backgroundColor:"rgba(54,162,235,0.2)",borderColor:"rgba(54,162,235,1)",data:this.actualWph},{label:"Computed words per hour",backgroundColor:"rgba(255,99,132,0.2)",borderColor:"rgba(255,99,132,1)",data:this.computedWph}]},options:{scales:{x:{min:0,max:4e3},y:{min:0,max:1500}},animation:{duration:0}}}}},mounted:function(){this.$watch("config",{immediate:!0,handler:function(t){this.chart&&this.chart.destroy(),this.chart=new n.a(document.getElementById("chart"),t)}})},methods:{toggleFitting:function(){var t=this;this.fitting?(clearInterval(this.fitting),this.fitting=null):this.fitting=setInterval((function(){var e=t.stdDevHours;["wphMin","wphMax","midpoint"].forEach((function(r){var n=t.$store.state[r];t.$store.commit("set",Object(o.a)({},r,Math.round(n+.1*(Math.random()-.5)*n))),t.stdDevHours>e&&t.$store.commit("set",Object(o.a)({},r,n))}))}),100)},getXY:function(t){return this.projects.map((function(e){return{x:e.words,y:t(e)}}))},getActualWph:function(t){return t.wordsPerHourNet},getComputedWph:function(t){return this.getWph(t.words)},getActualHours:function(t){return t.words/this.getActualWph(t)||0},getComputedHours:function(t){return t.words/this.getComputedWph(t)||0}},destroy:function(){this.chart&&this.chart.destroy(),this.fitting&&clearInterval(this.fitting)}},h=r(66),component=Object(h.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("canvas",{staticClass:"sticky-top bg-white",attrs:{id:"chart"}}),t._v(" "),r("div",{staticClass:"small"},[r("div",{staticClass:"mt-4"},t._l({actual:t.actualHours,computed:t.computedHours},(function(e,o){return r("div",{key:o},[t._v("\n        Total "+t._s(o)+" hours: "),r("strong",{domProps:{textContent:t._s(Math.round(100*e)/100)}})])})),0),t._v(" "),r("div",{staticClass:"mt-2"},[t._v("\n      Difference: "),r("strong",{domProps:{textContent:t._s(Math.round(100*(t.actualHours-t.computedHours))/100)}})]),t._v(" "),r("div",{staticClass:"mt-2"},[t._v("\n      Standard deviation: "),r("strong",{domProps:{textContent:t._s(Math.round(100*t.stdDevHours)/100)}})]),t._v(" "),r("b-row",{staticClass:"mt-2",attrs:{cols:"3"}},t._l(["wphMin","wphMax","midpoint"],(function(e){return r("b-col",{key:e},[r("label",{staticClass:"mt-2 fw-bold",attrs:{for:e},domProps:{textContent:t._s({wphMin:"Minimum WPH",wphMax:"Maximum WPH",midpoint:"Midpoint"}[e])}}),t._v(" "),r("b-form-input",{attrs:{id:e,type:"number",step:"10",value:t.$store.state[e]},on:{input:function(r){var o;t.$store.commit("set",((o={})[e]=parseFloat(r),o))}}})],1)})),1),t._v(" "),r("div",{class:{"mt-2":!0,"sticky-bottom":t.fitting}},[r("b-button",{attrs:{variant:t.fitting?"outline-danger":"outline-secondary"},domProps:{textContent:t._s(t.fitting?"Stop fitting":"Fit to data")},on:{click:t.toggleFitting}})],1),t._v(" "),r("b-row",{staticClass:"mt-2",attrs:{cols:"3"}},[r("b-col",[r("label",{staticClass:"mt-2 fw-bold",attrs:{for:"hourlyRate"}},[t._v("Desired hourly rate")]),t._v(" "),r("b-form-input",{attrs:{id:"hourlyRate",type:"number",step:"10"},model:{value:t.hourlyRate,callback:function(e){t.hourlyRate=e},expression:"hourlyRate"}})],1),t._v(" "),r("b-col",[r("label",{staticClass:"mt-2 fw-bold",attrs:{for:"wordCount"}},[t._v("Word count")]),t._v(" "),r("b-form-input",{attrs:{id:"wordCount",type:"number",step:"100",value:t.wordCount},on:{input:function(e){t.wordCount=parseInt(e)}}})],1),t._v(" "),r("b-col",[r("div",{staticClass:"mt-2"},[r("strong",[t._v("Price:")]),t._v(" "),r("div",{staticClass:"fw-bold",staticStyle:{"font-size":"1.5rem"},domProps:{textContent:t._s("$"+20*Math.round(t.getPrice(t.wordCount,Object.assign({},t.$store.state,{hourlyRate:t.hourlyRate}))/20))}})])])],1)],1)])}),[],!1,null,null,null);e.default=component.exports}}]);